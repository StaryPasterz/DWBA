# DWBA Ionization Calculation Configuration
# Example: Hydrogen 1s ionization

run_name: "H_1s_ionization_example"

calculation:
  type: "ionization"

target:
  atom: "H"              # Atom from atoms.json: H, He, Li, Ne, Ar, etc.

states:
  initial:
    n: 1
    l: 0                 # 1s state (ionization from ground state)
  final:
    n: 1                 # Not used for ionization
    l: 0

physics:
  model: "static"        # "static" (article DWBA) or "polarization" (heuristic)

energy:
  type: "log"            # Grid type: "single", "linear", "log", "list"
  start_eV: 15.0         # [eV] Start energy (above ionization threshold 13.6 eV for H)
  end_eV: 500.0          # [eV] End energy
  density: 0.5           # [dimensionless] Log grid density

grid:
  strategy: "global"     # "manual" = fixed params, "global" = adaptive for E_min, "local" = per-energy
  r_max: 200             # [a.u.] Maximum radial extent (for manual; base value for adaptive)
  n_points: 3000         # [count] Base grid points (for manual; minimum for adaptive modes)
  r_max_scale_factor: 2.5  # [dimensionless] Safety factor for turning point criterion
  n_points_max: 15000    # [count] Maximum allowed grid points (caps adaptive scaling)
  min_points_per_wavelength: 15  # [count] Minimum pts/λ for high-E (v2.7+). Set to 0 to disable.

ionization:
  l_eject_max: 3         # [dimensionless] Maximum ejected electron angular momentum
  L_max: 15              # [dimensionless] Multipole L_max
  L_max_projectile: 50   # [dimensionless] Base partial wave L_max
  n_energy_steps: 10     # [count] SDCS integration steps

oscillatory:
  method: "advanced"             # "legacy" | "advanced" | "full_split"
  CC_nodes: 5                    # [count] Clenshaw-Curtis nodes per interval
  phase_increment: 1.5708        # [rad] Phase increment (π/2)
  min_grid_fraction: 0.1         # [dimensionless] Minimum match point fraction
  k_threshold: 0.5               # [a.u.] Momentum threshold for Filon/Levin
  gpu_block_size: "auto"         # "auto" = auto-tune, int = explicit size
  gpu_memory_mode: "auto"        # "auto" | "full" | "block"
  gpu_memory_threshold: 0.7      # [dimensionless] Max VRAM fraction
  n_workers: "auto"              # "auto" (balanced), "max" (all cores), or int

output:
  save_dcs: true
  save_partial: true
  calibrate: true
